# 图论

点双的定义。

点双可以有重叠部分。

$Tarjan$

边双的定义。

$DCC$中，没有任何两个有边重复的点。

点双一定是边双。

某一个点同时只属于一个边双。

$belong[N]$, $vector<int> belong[N]$。

把鸽边切开，两边一定是边双。

$dfn[x] \leq low[x]$。

$stack<int> s$变成鸭边

$dfn[x] \leq low[x]$，$x$还是最小的点。弹出顺序改变。

$s.pop()$变成弹边，并且弹出来的边的两点加进$vec\ belong[N]$中。

> HDU3749

给出无向图，$q$个询问，输出$u \rightarrow v$中有几条路径，$0$条或$1$条输出$zero$ 、$one$，否则输出$two \ or \ more$。

给出无向图，求出对于任意一对$u \rightarrow v$，有且仅有一条路径的点对的个数。$n \leq 100000，m \leq 200000$。

给出无向图，$q$个询问，询问$u \rightarrow v$是否有且仅有一条经过的边不重复路径。$n, q \leq 10^5$

对于$n$个点，求一个边双，进行缩点。缩完之后进行一次树形$dp$统计出从根到$i$，有多少个$DCC$，每次询问，首先判定$u, v$是不是联通块中，如果不是，求出他们的$lca$，或者树剖处理$u \rightarrow v$路径上$DCC$的个数。如果$> 0$，则不成立。

> POJ1523

给出$n$个点的无向图，问每个鸽点能够把图分成几个联通分量。

假如说$u$在一个鸽边上，拆掉$u$一定会$++DCC$。假如说$u$在一个$v-DCC$，一定会$--DCC$。

> POJ3352

给出$n$个点的无向图，$n \leq 1000$。问最少添加多少条边能够使整个图变成边双。

缩边双。$l$个叶子节点，$\frac{l + 1}{2}$条边。

> HDU3394
>
> POJ2942

一个国家有$N$$(1 \leq n \leq 1000)$个圆桌骑士，该国有一种会议叫圆桌会议，即由奇数个$(>1)$骑士围成圆桌开会，已知M对禁止关系$(a,b)$表示编号为$a, b$的两名圆桌骑士不能相邻坐，询问该国有多少名骑士无论如何安排座位都不能参加任何一场会议。  

建反图，求$DCC$，二分图染色判奇环。

> POJ2460

$n$个点的无向图，每次加入一条边，问鸽边的个数。

边双缩点，每次加一条边，会毁掉$u \rightarrow v$之间的所有边双。树形dp后暴力统计就好。

## 2-SAT问题

给出$n$组关系，选了$a$就选$b$或选了$a$就不能选$b$。问是否冲突。

将$a$拆成两个点，选$a$、不选$a$，连的边表示"选了$x$点就必须选$y$点"，假如说$a$的两点在一个$SCC$中，条件冲突~。

问有多少种解：

反向建图，转化为必要关系。跑拓扑排序上dp。统计方案数。

>  $JSOI2010$ 满汉全席

因为每个菜只能做成“满”、“汉”。所以我们把每个菜拆成两个点，“满” 、 "汉"。要不然选汉，要不然选满。对于$2-SAT$。我们需要构造限制条件。对于题目中的样例：

```
评审一 评审二 评审三 评审四 
满式羊肉 满式猪肉 汉式羊肉 汉式羊肉 
汉式猪肉 满式羊肉 汉式猪肉 满式猪肉 
```

假如说做了满式羊肉，那么汉式猪肉可选可不选。如果选了汉式羊肉，汉式猪肉就必须选。这就存在一个限制条件。这样进行限制，跑$SCC$。

> POJ3683

一个小镇里面只有一个牧师，现在有些新人要结婚，需要牧师分别去主持一个仪式，给出每对新人婚礼的开始时间$s$和结束时间$t$，还有他们俩的这个仪式需要的时间（$s$到 $s+d$）或者是结束前的时间$d$内（$t - d$ 到$t$）完成这个仪式。现在问能否给出一种安排，让牧师能完成所有夫妇婚礼的仪式，如果可以，输出一种安排。 

> POJ3678
>
> [HDU1814](http://acm.hdu.edu.cn/showproblem.php?pid=1814)

有n对的人，编号从1-2*n，m对的人之间互相不喜欢，每对人中必徐选1个人加入和平委员会，求字典序最小的解 

> POJ3468

> BZOJ3495

有$n$个城镇被分成了$k$个郡，有$m$条连接城镇的无向边。

要求给每个郡选择一个城镇作为首都，满足每条边至少有一个端点是首都。

$n \leq 10^6$。

首先考虑$O(n^2)$的暴力，每个点拆成"是"、"不是"首都，向所在郡暴力连边，对于每个郡"不是首都"，向其他郡的每个点"是首都"连边。

首先将$n$鸽城镇建立$2 \cdot n$个点，分别表示当前点选没选。再建立$2 \cdot n$个点，表示，对于当前郡，郡中的$[1, i]$中是否有选择过、未选择过的。如果$i$选了，$i + 1$一定一定选了，如果$i + 1$没选，$i$一定没选。对于前面的$2n$个点，假如说$i$被选了，对后面的前缀图$[i, k]$一定都被选了。对于$i$没选，边$i \rightarrow j$，$j$一定选，对应的$[j, k']$一定选了。建图跑$2-SAT$。

> SCOI2010 

这样建图：二分图，下面是数值，上面是装备，选过一个数值之后装备就不能选了，跑匈牙利算法。$AC$~

这道题告诉我，上下可能不一样。

LG2055同理

## 最大独立集

从$n$个点中选取尽可能多的点，使得任意两点都不在同一边的两侧。

## 最小点覆盖

从$n$个点中选取尽可能少的点，使得任意一条边的至少一个一个点被选择过。

二分图的最大独立集 + 二分图的最小点覆盖 = 整个二分图

二分图的最大匹配在数值上 = 二分图的最小点覆盖。

LG3033 -> n - 最大匹配。

（最大独立集 = 整个二分图 - 最小点覆盖 = 整个二分图 - 最大匹配。

二分图最大权匹配：

KM算法。

连接$n^2$的$0$边。





