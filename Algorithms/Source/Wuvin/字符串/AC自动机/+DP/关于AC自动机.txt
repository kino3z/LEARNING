hdu4117
如何让AC自动机支持添加一个串、然后匹配
或者对于一个区间内的串进行匹配

想法1：
离线 
先将AC自动机构建出来
每个点的值暂时不忙赋
然后对于一个增加就沿着fail树
暴力修改子树
期望应该不错
最坏。。hh。。
n^2
最坏数据构造
m为所有串总长 
AAAAAAAAAAAAAAAAAAAA..(一个长达m/2的串)
A(长为1)
A
A
.
.
. 

不过事实证明暴力踩标程

标程：
优化暴力既然是在找fail树中值最大的父节点也就是一个树中
的一条链的查询
DFS序后变成区间取max，单点查询，只用一个简单的lazy tag就可以了

想法2:
如果我们有两个AC自动机
信息合并应该容易
按照2^n次分组暴力重构
复杂度nlogn

想法3：
都支持快速合并了
数据结构大军就可以上了
什么树状数组套AC自动机
线段树套AC自动机
分块AC自动机
动态插入一个字符串是要O（n）的
所以各种树只有离线后再逐级构造 
好像除了平衡树都可以 
主席树套AC自动机？
可持久化线段树
每一个节点是一个方案二的分组这样就可以支持均摊logn的节点加一个字符了
然后按照可持久化线段树的方式可以支持如下逆天操作
对于一个字符串序列，每一个字符串有一个权值xi
做到log^2n的提取一个区间[l,r]内权值大于x0的字符串的自动机
构建nlog^2n 查询nlog^2n
又可以出毒瘤题了 



在分组的逻辑下能否加入DP？
部分DP也是可以的
能否加入矩阵？
