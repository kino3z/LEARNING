# $CF522D$

这题能黑，怕不是在开玩笑。
首先，套路性地，对询问右端点排序。
怎么处理这个"数字相同"呢...
又是套路，维护$pre[i]$表示上一个这个数的位置。
然后顺着扫，到$i$的时候要处理完所有右端点为$i$的询问。
$nxt[i]$表示$i$到下一个为$a[i]$的最小距离。线段树中维护的就是$nxt[i]$的值。

# $BZOJ1880$

这...
之前完全做不起哎
但是现在，说不定呢？
简单来说，就是求无向图之间两点对之前的最长公共路径。
我们跑出$x1, x2$开始的最短路，设以上跑出的最短路的分别为$dis[1][u], dis[2][u]$，如果一条边$u \rightarrow v$满足$dis[1][u] + e = dis[1][v]$且$dis[2][u] + e = dis[2][v]$。那么我们把这条边赋值为$e$，其他边赋值为$0$。跑$DAG$上最长路。
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEwMTI0MDM4OTZdfQ==
-->